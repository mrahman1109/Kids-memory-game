<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Memory Match for Max & Martina</title>
<style>
  body { font-family: system-ui, sans-serif; margin: 0; display: grid; place-items: center; min-height: 100vh; }
  h1 { font-size: 1.2rem; margin: 12px 0; }
  #game { display: grid; gap: 10px; padding: 12px; width: min(520px, 95vw); }
  .card { aspect-ratio: 1/1; background: #eee; border-radius: 10px; display: grid; place-items: center;
          font-size: clamp(24px, 9vw, 48px); cursor: pointer; user-select: none; transition: transform .1s; }
  .card.revealed { background: #fff; box-shadow: inset 0 0 0 2px #ddd; }
  .card.matched { background: #d9fdd3; cursor: default; }
  #bar { display:flex; justify-content: space-between; align-items:center; width: min(520px, 95vw); padding: 0 12px; }
  button { padding: 8px 12px; border: 1px solid #aaa; border-radius: 8px; background:#fff; cursor:pointer; }
</style>
</head>
<body>
  <div id="bar">
    <h1>Memory Match</h1>
    <div>
      <span id="moves">Moves: 0</span>
      <button id="reset">Reset</button>
    </div>
  </div>
  <div id="game" aria-label="Memory board"></div>

<script>
const easySet = ["🦄","⚽","🐉","⭐","🐻","🎈","🍓","🚀"];     // swap emojis to theme it
const gridSize = 4;                                         // 4x4 grid (8 pairs)

let first=null, lock=false, moves=0;

function setup() {
  moves = 0; updateMoves();
  const game = document.getElementById('game');
  game.style.gridTemplateColumns = `repeat(${gridSize}, 1fr)`;

  // Build deck: duplicate and shuffle
  const cards = shuffle([...easySet.slice(0,(gridSize*gridSize)/2), ...easySet.slice(0,(gridSize*gridSize)/2)]);
  game.innerHTML = '';
  cards.forEach(symbol => {
    const div = document.createElement('div');
    div.className = 'card';
    div.dataset.symbol = symbol;
    div.setAttribute('aria-label','Hidden card');
    div.addEventListener('click', onFlip);
    game.appendChild(div);
  });
}

function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]] } return arr }

function onFlip(e){
  const card = e.currentTarget;
  if (lock || card.classList.contains('revealed') || card.classList.contains('matched')) return;

  reveal(card);

  if (!first) { first = card; return; }

  // second card
  moves++; updateMoves();
  if (card.dataset.symbol === first.dataset.symbol) {
    match(card); match(first);
    first = null;
    if (document.querySelectorAll('.matched').length === gridSize*gridSize) {
      setTimeout(()=>alert(`Nice work! You finished in ${moves} moves.`), 100);
    }
  } else {
    lock = true;
    setTimeout(()=>{ hide(card); hide(first); first=null; lock=false; }, 700);
  }
}

function reveal(c){ c.classList.add('revealed'); c.textContent = c.dataset.symbol; c.setAttribute('aria-label', `Card ${c.dataset.symbol}`); }
function hide(c){ c.classList.remove('revealed'); c.textContent = ''; c.setAttribute('aria-label','Hidden card'); }
function match(c){ c.classList.add('matched'); c.setAttribute('aria-label', `Matched ${c.dataset.symbol}`); }

function updateMoves(){ document.getElementById('moves').textContent = `Moves: ${moves}` }

document.getElementById('reset').addEventListener('click', setup);
setup();
</script>
</body>
</html>
